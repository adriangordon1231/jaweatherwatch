"use strict";JAWeatherWatch.module("App",function(t,e,s,a){t.Controller=a.Controller.extend({dashboard:new e.Views.Dashboard,parish:new e.Cities.Parish,jamaica:new e.Cities.City({parishName:""}),start:function(){this.showMenu(),this.showDashboard(),this.listenTo(this.parish,"change",function(){this.dashboard.getRegion("notifications").show(this.notificationsInit()),this.dashboard.getRegion("forecast").show(this.forecastInit())}),this.listenTo(this.jamaica,"change",function(){this.dashboard.getRegion("averages").show(this.averagesInit())}),new e.App.Router},showMenu:function(){e.menu.show(new e.Views.SideMenu({model:this.parish}))},showDashboard:function(){e.content.show(this.dashboard),this.dashboard.getRegion("notifications").show(this.notificationsInit()),this.dashboard.getRegion("forecast").show(this.forecastInit()),this.dashboard.getRegion("averages").show(this.averagesInit())},notificationsInit:function(){var t=new e.Cities.City({parishName:this.parish.get("name")}),s=new e.Views.Notifications({model:t});return t.fetch({success:function(){console.log("city data fetched sucessfully")},error:function(){alert("could not get weather data")}}),s},averagesInit:function(){var t=new e.Views.WeatherAverage({model:this.jamaica});return this.jamaica.fetch({success:function(){console.log("jamaica weather pattern data fetched successfully")},error:function(){alert("could not weather average data")}}),t},forecastInit:function(){var t=new e.Cities.Forecast({parishName:this.parish.get("name")}),s=new e.Views.Forecast({model:t});return t.fetch({success:function(){console.log("forecast data fetched successfully")},error:function(){alert("could not fetch forecast data")}}),s},changeCity:function(t){this.parish.set("name",t)}}),t.Router=a.AppRouter.extend({appRoutes:{":query":"changeCity"}})});